<!DOCTYPE html>
<html data-ng-app="exampleApp">
	<head>
		<meta charset="utf8" />
		<title></title>
		<link href="bootstrap.css" rel="stylesheet" />
		<link href="bootstrap-theme.css" rel="stylesheet" />
		<script src="angular.js"></script>
		<script>
			angular.module("exampleApp", [])
			.controller("defaultCtrl", function ($scope) {

				$scope.addUser = function (userDetails) {
					if (myForm.$valid) {
						$scope.message = userDetails.name + " (" + userDetails.email + ") (" + userDetails.agreed + ")";
					} else {
						$scope.showValidation = true;
					}
				};

				$scope.message = "Ready";

				$scope.getError = function (error) {
					if (angular.isDefined(error)) {
						if (error.required) {
							return "Por favor preencha.";
						} else if (error.email) {
							return "Por favor insira um endereço de e-mail válido";
						}
					}
				};

			});
		</script>
		<style>
			form.validate .ng-invalid-required.ng-dirty { background-color: lightpink; }
			form.validate .ng-invalid-email.ng-dirty { background-color: lightgoldenrodyellow; }
			div.error { color: red; font-weight: bold; }
		</style>
	</head>
	<body>
		<div id="todoPanel" class="panel" data-ng-controller="defaultCtrl">
			<form name="myForm" novalidate ng-submit="addUser(newUser)" ng-class="showValidation ? 'validate' : ''">
				<div class="well">
					<div class="form-group">
						<label>Name:</label>
						<input name="userName" type="text" class="form-control" required ng-model="newUser.name" />
						<div class="error" ng-show="showValidation">
							<span ng-show="myForm.userName.$error.text">
								Por favor insira um endereço de e-mail válido.
							</span>	
							<span ng-show="myForm.userName.$error.required">
								Por favor preencha.
							</span>						
						</div>
					</div>
					<div class="form-group">
						<label>Email:</label>
						<input name="userEmail" type="email" class="form-control" required ng-model="newUser.email" />
						<div class="error" ng-show="showValidation">
							{{getError(myForm.userEmail.$error)}}
						</div>
					</div>
					<div class="checkbock">
						<label>
							<input name="agreed" type="checkbox" ng-model="newUser.agreed" required />
							Eu concordo com os termos e condições.
						</label>
					</div>
					<button type="submit" class="btn btn-primary btn-block">Ok</button>
				</div>
				<div class="well">
					Message: {{message}}
					<div>
						Valid: 
						<span class="symmary" ng-class="myForm.$valid ? 'ng-valid' : 'ng-invalid'">{{myForm.$valid}}</span>
					</div>
				</div>
			</form>
		</div>
	</body>
</html>